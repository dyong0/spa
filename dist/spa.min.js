/*! spa 2016-09-22 */
!function(){module.exports={}}(),function(){var a=a?a:require("promise-polyfill"),b=require("jquery"),c={definitions:{},rawHtmls:{},rootPath:"components"};c.define=function(a,b){this.definitions[a]=b},c.setRootPath=function(a){return"/"===a[a.length-1]?void(this.rootPath=a.slice(0,-1)):void(this.rootPath=a)},c.loadComponent=function(c){if(this.definitions[c]&&this.rawHtmls[c])return a.resolve({def:this.definitions[c],rawHtml:this.rawHtmls[c]});var d=this,e=d.rootPath+"/"+c.replace(/\./g,"/");return new a(function(a){b.get(e+".html",function(b){d.rawHtmls[c]=b,a({def:d.definitions[c],rawHtml:d.rawHtmls[c]})})})},c.create=function(c){function d(){return e.loadComponent(c).then(function(a){return b.extend(b(a.rawHtml),a.def,{update:function(a){for(var b in a)void 0!==this[b]&&(this[b]=a[b]);this.render()}})}).then(function(a){if(a.events){var b=a.events;for(var c in b){var d=b[c];for(var e in d){var f=d[e];if("."===e)a.on(c,f.bind(a));else{var g=e;a.on(c,g,f.bind(a))}}}}return a})}var e=this,f=d();return f.times=function(b){for(var c=[this],e=0;e<b-1;++e)c.push(d());return a.all(c)},f},module.exports.Component=c}(),function(){var a=require("jquery"),b={onEnter:function(a,b){b()},onState:function(a){},onExit:function(a){a()}},c={states:{INITIAL_STATE:b},currentState:b,defaultState:null};a(window).on("hashchange",function(){c.onStateChange(decodeURI(window.location.hash))}),a(document).on("click","[sref]",function(){var b=a(this).attr("sref");if(b.indexOf("?")===-1)return void c.go(b);var d=b.slice(0,b.indexOf("?")),e=b.slice(b.indexOf("?")+1),f=JSON.parse('{"'+decodeURI(e).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}');c.go(d,f)}),a(document).ready(function(){var a=decodeURI(window.location.hash);null!==a&&0!==a.length||c.go(c.defaultState)}),c.setDefaultState=function(a){this.defaultState=a},c.define=function(a,b){if(this.states[a])throw new Error('The state "'+a+'" exists already');b.urlPattern=new UrlPattern(b.urlPattern),this.states[a]=b},c.onStateChange=function(a){0===a.indexOf("#")&&(a=a.slice(1)),c.translateState(this.currentState,c.findStateByHash(a),stateParams)},c.findStateByHash=function(a){var b=this.states;for(var c in b)if(b[c].urlPattern.match(a))return b[c];throw new Error("No state matching with "+a)},c.translateState=function(a,b,d){a.onExit(function(){c.currentState=b,b.onEnter(d,b.onState)})},c.go=function(a,b){c.translateState(this.currentState,this.states[a],b)},module.exports.State=c}();